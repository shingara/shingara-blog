
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Alors que je commence un nouvelle emploi, voici la nouvelle version de Pictrails. Cette version 0.4.0 sort assez rapidement après la version 0.3.x. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://shingara.github.com/shingara-blog/blog/page/6">
  <link href="/shingara-blog/favicon.png" rel="icon">
  <link href="/shingara-blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/shingara-blog/javascripts/modernizr-2.0.js"></script>
  <script src="/shingara-blog/javascripts/ender.js"></script>
  <script src="/shingara-blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/shingara-blog/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/shingara-blog/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/shingara-blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:shingara.github.com/shingara-blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/shingara-blog/">Blog</a></li>
  <li><a href="/shingara-blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/08/04/sortie-de-pictrails-0-4-0/">Sortie De Pictrails 0.4.0</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-04T00:00:00+02:00" pubdate data-updated="true">Aug 4<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/08/04/sortie-de-pictrails-0-4-0/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Alors que je commence un nouvelle emploi, voici la nouvelle version de <a href="http://pictrails.rubyforge.org">Pictrails</a>. Cette version 0.4.0 sort assez rapidement après la <a href="http://blog.shingara.fr/2008/06/15/publication-de-pictrails-0-3-0">version 0.3.x</a>. Elle apporte effectivement assez peu de nouvelles fonctionnalités, mais elle a l&#8217;avantage d&#8217;être maintenant compatible avec Rails 2.1 Les prochaines versions de Pictrails seront peut-être un peu moins fréquente. Mais la roadmap se charge de plus en plus et même quelques personnes commencerait à utiliser Pictrails.</p>

<p>Voici la liste des nouveautés de cette version :</p>

<ul>
<li>Ajout du support des Tags. Ainsi chaque image peux avoir une série de Tag qui lui ai associé.</li>
<li>Ajout d&#8217;un flux Atom relié au gallerie</li>
<li>Ajout d&#8217;une bar de coté avec la liste des galleries disponible sur l&#8217;application. Elle est organisé sous forme d&#8217;arbre exactement comme est l&#8217;arborescence.</li>
<li>Ajout d&#8217;un nuage de Tag global et gallerie par gallerie dans la bar de coté.</li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/07/22/upgrade-de-typo-en-Typo-5-1-1/">Upgrade De Typo en Typo-5.1.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-22T00:00:00+02:00" pubdate data-updated="true">Jul 22<span>nd</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/07/22/upgrade-de-typo-en-Typo-5-1-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ce blog a été mis à jour avec succès avec la nouvelle version de <a href="http://typosphere.org/">Typo</a>. En effet, la sortie a été réalisé hier et ce blog est déjà à jour. Pour la première fois plusieurs de mes contributions sont présentes directement dans cette nouvelle mouture avec <a href="http://t37.net/sortie-de-typo-5-1-laquo-cartier-bresson-raquo#">quelques remerciement de Neuro</a>. Ca fait vraiment plaisir.</p>

<p>J&#8217;ai aussi mis le thème par défaut de Typo qui est vraiment très bien. Merci à <a href="http://jeuxdemaux.com">jeuxdemaux.org</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/29/vivre-avec-edge-ou-quoi-de-neuf-dans-rails-edge-2-amelioration-des-performances/">Vivre Avec Edge (Ou Quoi De Neuf Dans Rails Edge) #2 -amélioration Des Performances</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-29T00:00:00+02:00" pubdate data-updated="true">Jun 29<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/29/vivre-avec-edge-ou-quoi-de-neuf-dans-rails-edge-2-amelioration-des-performances/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>traduction de <a href="http://weblog.rubyonrails.com/2008/6/25/living-on-the-edge-or-what-s-new-in-edge-rails-2-performance-improvements">Vivre avec Edge #2</a></p>

<p>La <a href="http://weblog.rubyonrails.org/2008/6/20/living-on-the-edge-or-what-s-new-in-edge-rails-1-api-changes-and-performancetests">première news Vivre avec edge</a> a parlé des changement de l&#8217;<span class="caps">API</span> depuis Rails 2.1, et durant cette news, les <strong>améliorations de performances</strong> seront indiqué comme promis.</p>


	<p>En avant&#8230;</p>


	<h4>Les templates Erb plus rapide</h4>


	<p>Jeremy Kemper a rendu le processus d&#8217;Erb plus efficace, spécialement les méthodes d&#8217;helper <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#M001724">concat</a> et <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/CaptureHelper.html#M001747">capture</a>.</p>

<p>Le &#8220;spécial&#8221; Erb <code>_erbout</code> a été remplacé par une variable d&#8217;instance qui permet ceci:</p>

<ul>
<li>Meilleur performance (mémoire) parce que <a href="http://www.ruby-doc.org/core/classes/Binding.html">bindings</a> ne pas pas longtemps autour</li>
<li>Moins de d&#8217;évaluation qui est généralement couteux.</li>
<li>Il n&#8217;y a pas besoin de séparer la variable <code>_erbout</code> quand vous remplacer un nouveau buffer (de string)</li>
<li>Le buffer est généralement disponible via une méthode <code>output_buffer</code> écriture et lecture (alors vous pouvez les overrider si vous le souhaitez)</li>
</ul>

	<p>Changesets en relation: <a href="http://github.com/rails/rails/commit/933697a5fc5f4c56c4fd7fbbd31b8973df9c1054">933697a</a>
- <a href="http://github.com/rails/rails/commit/0bdb7d353b4ac6f5470884360f9a480a16bd709c">0bdb7d3</a>
- <a href="http://github.com/rails/rails/commit/4d4c8e298f5396e6b8ace0a10d7f991594aace2d">4d4c8e2</a></p>

<h4>Les helpers JavaScript et les partials sont plus rapide.</h4>

<p>L&#8217;initialisation des templates partial et des helpers Javascript ont été refactoré et optimisé pour une meilleure vite et efficacité grâce à Jeremy Kemper. Quelque optimisations de Jérémy ont été commité récement. Vérfiiez avec les <a href="http://github.com/rails/rails/commits/master">commits de Rails</a> (comme pour tout projet Open Source de qualité) - Vous apprendrez plein de chose.</p>


	<p>Changesets en relation: <a href="http://github.com/rails/rails/commit/d7b3c3395fd7debc05923dba1cbea69d30899827">partials</a> &#8211; <a href="http://github.com/rails/rails/commit/f4ccc179530d5b9436da87d3c221dfa8fa89119a">JavaScript helpers</a></p>


	<h4>Accélération de la méthode RecordIdentifier</h4>


	<p>Le <a href="http://api.rubyonrails.org/classes/ActionController/RecordIdentifier.html">RecordIdentifier</a> est plus rapide avec la simple utilisation de memo-ization, réduisant ainsi l&#8217;utilisation des Inflections entre autre. Le RecordIdentifier est largement utilisé dans le cache des clé, des chemins des templates de partial, et dans la plus part des endroit où vous identifiez un model ActiveRecord sans le savoir avec ton id actuel.</p>


	<p>Changesets en relation par Jeremy Kemper: <a href="http://github.com/rails/rails/commit/c1a98209da7422965f5dd4f475603b8a3cc887e4">c1a9820</a> &#8211; <a href="http://github.com/rails/rails/commit/566d717d783f56563cd602198be2177c972c9a81">566d717</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/28/le-monde-du-libre-fait-de-la-selection-meme-pour-les-fetes/">Le Monde Du Libre Fait De La Sélection Même Pour Les Fêtes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-28T00:00:00+02:00" pubdate data-updated="true">Jun 28<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/28/le-monde-du-libre-fait-de-la-selection-meme-pour-les-fetes/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Après avoir lu les <a href="http://t37.net/la-soiree-firefox-3-ne-passera-pas-par-moi">remarques de frédéric au sujet de la soirée Firefox 3</a>. Je ne peux m&#8217;empêcher de l&#8217;approuver et de rédiger ce billet. J&#8217;écris rarement pour critiquer quelque chose, mais j&#8217;avoue que cette pratique est vraiment anti-libriste.</p>

<p>En effet, la fondation Mozilla trie sur le volet ses invités pour la grande soirée Firefox 3. Que Mozilla fasse une grande fête chez elle avec les invités qu&#8217;elle souhaite c&#8217;est tout à fait normal. Mais qu&#8217;elle annonce une grande fête et ouvre les portes de cette fête à seulement des personnes triés sur le volet en fonction de leur projet open source et de leur contribution au standard du web, je trouve ça affligeant.</p>

<p>Le personne qui permette de faire ces fêtes sont justement les madame Michou. Ceux qui télécharge Firefox et qui trouve juste le produit bien. Par des personnes qui font de l&#8217;open source ou contribue à des standards. C&#8217;est peut-être même pas des utilisateurs de Firefox. En effet, Firefox n&#8217;est pas le seul navigateur à suivre les standards. Que ce soit Opera ou Safari, ces deux navigateurs sont au moins aussi respectueux des standards si ce n&#8217;est plus. Là vraiment Firefox me déçoit.</p>

<p>Personnellement, j&#8217;aurais largement préféré une bonne réunion à la bonne franquette. Chacun se retrouve sur le champs de Mars avec sa bouffe. Pas de micro, pas de speech pompeux. Juste des gens réuni en un point pour être heureux.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/27/vivre-avec-edge-ou-quoi-de-neuf-dans-rails-edge-1-changement-dapi-et-des-tests-de-performances/">Vivre Avec Edge (Ou Quoi De Neuf Dans Rails Edge) #1 - Changement d&#8217;API Et Des Tests De Performances</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-27T00:00:00+02:00" pubdate data-updated="true">Jun 27<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/27/vivre-avec-edge-ou-quoi-de-neuf-dans-rails-edge-1-changement-dapi-et-des-tests-de-performances/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Voici la nouvelle traduction de Vivre avec Edge. Par contre, cette fois ci, comme annoncé dans cette news, cette news est issu du <a href="http://weblog.rubyonrails.com">blog officiel de rubyonrails</a> et non plus du blog de <a href="http://blog.codefront.net/">Chu Yeow</a></p>

<p>Comme Gregg Pollack <a href="http://weblog.rubyonrails.org/2008/6/10/two-new-weekly-columns">l&#8217;indique il y a une semaine</a>, Je conserve une note hebdomadaire au sujet des changements de edge Rails. C&#8217;est la première fois que Living on the Edge(of Rails) est apparu officiellement sur le blog officiel de Ruby on Rails.</p>


<p><a href="http://blog.codefront.net/category/edge-rails/">Living on the Edge</a> est une note hebdomadaire que je mettais sur mon <a href="http://blog.codefront.net/">propre blog</a> après plusieurs  récupération par Gregg Pollack of <a href="http://railsenvy.com/">Rails Envy</a> depuis décembre 2007. J&#8217;avais l&#8217;habitude d&#8217;être une contributeur actif de rails et non pas trop une personne qui réfléchis. Gregg et Jason ont été génial de m&#8217;ajouter à leur <a href="http://railsenvy.com/podcast">podcast</a> hebdomadaire.</p>

<p>Et maintenant je suis ici, alors je vais essayer de faire de mon mieux et n&#8217;hésitez pas à être très critique pour que ça soit utile pour vous. Quand je blogguais cela dans mon petit blog personnel, ce n&#8217;était pas vital d&#8217;avoir une audience large et <em>significative</em> (NdT: Au moins sur ce blog ça reste toujours le cas). Laissez vos suggestions et critique dans les commentaires. Ils seront grandement appréciés.</p>

<p>De toutes façon il y a eu énormément de nouveauté durant les deux semaines après la release de Rails 2.1, changement de l&#8217;<span class="caps">API</span> et amélioration des performances. Donc au lieu de faire une très gros post, j&#8217;ai décidé de le séparé en 2 posts pour les nouveautés et changement d&#8217;API et les améliorations de performances. Dans ce post, je parlerais des nouveautés et changement de l&#8217;<span class="caps">API</span>


	<h4>Changements mineurs de l&#8217;<span class="caps">API</span></h4>


	<p>Commençons avec les changements mineurs de l&#8217;<span class="caps">API</span>.</p>


	<h5>link_to peux désormais prendre un block</h5>


	<p>Le helper <code>link_to</code> peux désormais prendre en argument un block. Utile dans les cas où vous avez long texte d&#8217;hyperlien avec des variables.:</p>


<typo:code lang="ruby">
<% link_to(@profile) do %>

  <strong><%= @profile.name %></strong> -
  <span>Status: <%= @profile.status %></span>
<% end %></typo:code>

	<p>Certaine personne trouve cela plus propre que:</p>


<typo:code lang="ruby"><%= link_to "<strong>#{@profile.name}</strong> &#8211; <span>Status: #{@profile.status}</span>&#8221;, @profile %></typo:code>

	<p>Ce changement a été apporté par Sam Stephenson (du fameux Prototype) et <span class="caps">DHH</span>.</p>


	<p><a href="http://github.com/rails/rails/commit/8190bce8bc7249b7b9f3680195336eb3ca9508ee">Changeset details</a></p>


	<h5>ActiveRecord::Base#merge_conditions fait maintenant partie de l&#8217;<span class="caps">API</span> public</h5>


	<p>Jeremy Kemper a rendu public la méthode <code>ActiveRecord::Base#merge_conditions</code>.</p>


	<p>C&#8217;est vraiment très pratique si vous avez des conditions issues de multiples sources ou qui se combine pour différentes raisons.</p>


<typo:code lang="ruby">Post.merge_conditions(
  {:title => &#8216;Lucky ☆ Star&#8217;},
  [&#8216;rating IN (?)&#8217;, 1..5]
)
=> &#8220;(`posts`.`title` = &#8216;Lucky ☆ Star&#8217;) AND (rating IN (1,2,3,4,5))&#8221;</typo:code>

	<p>Notez bien que cela merge uniquement avec un boolean <span class="caps">SQL</span> <code>AND</code>  (pas <code>OR</code>s).</p>


	<p><a href="http://github.com/rails/rails/commit/e328bdaab6c1cf920af3cabc0a27e32798a9fcb6">Changeset details</a></p>


	<h5>Les associations peuvent prendre une option :validate </h5>


	<p>les associations   peuvent désormais accepter une option c<ode>:validate</code> comme ceci:</p>


<typo:code lang="ruby">class Anime < ActiveRecord::Base
  has_many :characters, :validate => true
end</typo:code>

	<p>Cela indique à ActiveRecord de valider l&#8217;association <code>characters</code> quand vous enregistrer le model <code>Anime</code> - exactement comment fonctionnait  <code>:validates_associated</code>. La valeur par défaut est <code>false</code>, qui est le comportement actuel dans Rails 2.1 et plus récent, donc pas d&#8217;agitation à avoir. Cela fonctionne pour toutes les autre associations comme (<code>has_one</code>, <code>belongs_to</code>, <code>has_and_belongs_to_many</code>).</p>


	<p>Merci à Jan De Poorter et Pratik Naik pour cela, qui permette aussi de résoudre un <a href="http://rails.lighthouseapp.com/projects/8994/tickets/301">mauvais bug</a>.</p>


	<p><a href="http://github.com/rails/rails/commit/7f140bbddaf70abc61570f6cfdcbfba5771ffc78">Changeset details</a> &#8211; <a href="http://rails.lighthouseapp.com/projects/8994/tickets/301">Ticket</a></p>


	<h5>ActiveSupport::StringInquirer et avantage de la méthode Rails.env.development? </h5>


	<p>David Heinemeier Hansson (généralement abbrégé par <span class="caps">DHH</span> &#8211; désolé!) a récemment ajouté un sous-classe à String, <code>ActiveSupport::StringInquirer</code> qui permet de faire ceci: </p>


<typo:code lang="ruby">s = ActiveSupport::StringInquirer.new(&#8216;awesome&#8217;)
=> &#8220;awesome&#8221; 
s.awesome?
=> true
s.sucks?
=>; false</typo:code>

	<p>Une utilisation immédiate de cette classe est quand vous voulez vérifier l&#8217;environnement de votre application en fonctionnement : <code>Rails.env</code> est enrobé en StringInquirer alors vous pouvez utiliser des méthodes comme <code>Rails.env.development?</code> et <code>Rails.env.production?</code>.</p>


	<p><a href="http://github.com/rails/rails/commit/8afa725f4b98a6e0ceee4792e8ebaebb6189e5f6">Changeset details</a></p>


	<h5>Core extensions: Object#present? et Enumerable#many?</h5>


	<p><span class="caps">DHH</span> a aussi ajouté une extensions au core. C&#8217;est quelque peu trivial, mais peu rendre le code plus lisible. Le première est <code>Object#present?</code>, qui est essentiellement <code>!Object#blank?</code></p>


<typo:code lang="ruby">[].present?
=> false
[1, 2].present?
=> true
&#8221;&#8221;.present?
=> false
&#8220;i&#8217;m here&#8221;.present?
=> true</typo:code>

	<p>Une extension <code>Enumerable#many?</code> a aussi été ajouté qui réalise simplement un test conditionnel sur <code>enumerable.size &gt; 1</code>:</p>


<typo:code lang="ruby">[].many?
=> false
[:just_me].many?
=> false
[:just_me, &#8216;my_friend&#8217;].many?
=> true</typo:code>

	<p><a href="http://github.com/rails/rails/commit/a3caf28da3a22c1326d3d98dcf71483a8edaa55a">Object#present? changeset</a> &#8211; <a href="http://github.com/rails/rails/commit/556204abaf95f7c995576cb1358f13de406682ab">Enumerable#many? changeset</a></p>


	<h4>Syntaxe de block déclaratif pour l&#8217;écriture de tests</h4>


	<p><span class="caps">DHH</span> s&#8217;est inspiré de <a href="http://blog.jayfields.com/">Jay Fields</a> quand il commita cette nouvelle syntaxe. Vous pouvez maintenant écrire vos tests <code>(Test::Unit)</code>  avec un style de block déclaratif comme :</p>


<typo:code lang="ruby">test &#8220;an anime should be invalid if any of its characters are invalid&#8221; do
  # Your usual test code here.
end</typo:code>

	<p>J&#8217;utilise rarement Test::Unit (sauf pour soumettre des patchs à Rails) et préfère RSpec &#8211;  Ce style déclaratif pour écrire des tests est vraiment plus lisible.</p>


	<p>Tous les tests générés par Rails utilisent désormais cette syntaxe.</p>

	<p><a href="http://github.com/rails/rails/commit/f74ba37f4e4175d5a1b31da59d161b0020b58e94">Changeset details</a></p>


	<h4>Performance tests</h4>


	<p>Jeremy Kemper a fait un travail en profondeur pour optimiser et améliorer les performances de Rails, alors c&#8217;est sans surprise que cela a été introduit comme nouveau type de test d&#8217;intégration. Les tests de performances.</p>


	<p>Vous pouvez utiliser le générateur de test de performance (ajouté par Pratik dans <a href="http://github.com/rails/rails/commit/2e232af91f7e276904e02cbb1ea42ea24c19255b">23232a</a>) pour générer des tests de performances.</p>


<typo:code>script/generate performance_test LoginStories</typo:code>

<p>Le lancement du test de performance nécessite ruby-prof &gt;= 0.6.1, qui n&#8217;est pas encore sortie. Mais vous pouvez récupérer sa version en développement à partir des sources et en installant vous même le gem (Je vous conseille de récupérer le <a href="http://github.com/jeremy/ruby-prof/">ruby-prof que Jeremy a forké</a>). Il est intéressant de remarquer qu&#8217;avec la sortie de ruby-prof 0.6.1, ruby-prof supportera le profiling des tests écrits avec Test::Unit</p>

<p>Attention - Si vous faites un petit code de test (requêtes sur plusieurs actions, quelque soit le cas d&#8217;utilisateur que vous voulez testez en performance) et lancez le test. Vous aurez la sortie suivante (si vous avez dirigé la sortie habituel de ruby-prof vers le répertoire test/tmp/performance de votre application Rails):</p>


<typo:code>> ruby performance/login_stories_test.rb 
Loaded suite performance/login_stories_test
Started
LoginStoriesTest#test_homepage (32 ms warmup)
        process_time: 11 ms
              memory: unsupported
             objects: unsupported
.
Finished in 0.870842 seconds.</typo:code>

<p>Les résultats <code>memory</code> et <code>objects</code> ne sont pas supporté, parce que je n&#8217;avais pas patché mon interpréteur Ruby au support du proflling de mémoire. Vous aurez besoin de patcher certain interpréteur ruby pour activer le profiling de la mémoire et de GC. Je souhaiterais vous en dire plus à ce sujet, mais je suis en terrain inconnu. Il y a <a href="http://blog.pluron.com/2008/02/memory-profilin.html">plus de détail ici (en)</a> sur la méthode à suivre pour patcher Ruby pour le profilling de la mémoire. Je laisse les personnes plus qualifiée sur ce sujet expliquer tout ça.</p>


	<p><a href="http://github.com/rails/rails/commit/eab71208db1afead6803501c8d51d77625e5ad6e">Changeset details</a></p>


	<h4>Outro</h4>

<p>C&#8217;est tout pour le moment concernant les nouvelles fonctionnalités et changement dans Rails depuis Rails 2.1 - Les améliorations de performances arriveront dans un prochain post et j&#8217;ai laissé aussi intentionnellement de coté le <a href="http://github.com/ezmobius/rails/">support de Rack </a> qui n&#8217;est que partiellement mergé dans Edge.</p>

<p>Si il y a des erreurs ou que vous avez des suggestions sur comment faire un meilleur post, s&#8217;il vous plait indiquez le en commentaire. Toute information sur le patch de l&#8217;interpréteur Ruby pour supporter le profiling de la mémoire et aussi le bienvenue. Si j&#8217;ai laissé de coté des éléments qui ne vous semblez pas le nécessiter, laisser moi un commentaire.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/27/afficher-les-log-sql-avec-merb-et-datamapper/">Afficher Les Log SQL Avec Merb Et DataMapper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-27T00:00:00+02:00" pubdate data-updated="true">Jun 27<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/27/afficher-les-log-sql-avec-merb-et-datamapper/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depuis peu, je tente d&#8217;utiliser <a href="http://merbivore.org">Merb et <a href="http://datamapper.org">DataMapper</a>. Une différence notable entre Merb et Rails est le système de log. Comme Merb est ORM Agnostique, il n&#8217;affiche pas de base les logs SQL. J&#8217;ai cherché plusieurs fois comment avoir mes logs SQL de DataMapper directement dans ma console. J&#8217;ai fini par la trouvé sur le wiki de DataMapper. Je vous livre donc l&#8217;astuce :</p>

<typo:code lang="ruby">
Merb::BootLoader.after_app_loads do
  DataObjects::SQlite3.logger = DataObjects::Logger.new(STDOUT, :debug) 
end
</typo:code>

<p>Vous pouvez bien-sûr modifier le SQlite3 par Postgres ou MySQL. Cette comment fait une sortie en mode debug sur STDOUT. On aurait aussi pu mettre un fichier (&#8216;log/dm.log&#8217;).</p>

<p>Pour connaitre la liste des niveaux de logs, la voici :</p>

<ul>
<li>fatal</li>
<li>error</li>
<li>warn</li>
<li>info</li>
<li>debug</li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/17/le-piege-des-routes-a-eviter/">Le Piege Des Routes à éviter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-17T00:00:00+02:00" pubdate data-updated="true">Jun 17<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/17/le-piege-des-routes-a-eviter/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Alors, que je testais <a href="http://pictrails.rubyforge.org/">Pictrails</a> pour la <a href="http://blog.shingara.fr/articles/2008/06/15/publication-de-pictrails-0-3-0">release en version 0.3</a>, j&#8217;ai par hasard créé une galerie s&#8217;appelant &#8220;new&#8221;. Ayant implémenté un système de PrettyURL pour pictrails, j&#8217;ai changé les routes REST pour non pas afficher l&#8217;id de la galerie dans l&#8217;url mais son nom. Ainsi, comme ma galerie s&#8217;appele &#8220;new&#8221;, je devais allez sur l&#8217;URL : /galleries/new.</p>

<p>Mais voilà comme galerie était une ressource REST, la route /galleries/new est déjà réservé et je me suis donc retrouvé sur l&#8217;url de création d&#8217;une Gallerie et non sur l&#8217;url de visualisation de la galerie new. C&#8217;est ainsi que je suis tombé dans le piège des routes à éviter.</p>

<p>Maintenant, que j&#8217;ai trouvé le bug il a fallu trouvé la solution et plus que de trouver la solution, il fallait trouver une solution propre. En effet, basiquement, on peux créer un validateur qui vérifie que le nom n&#8217;est pas &#8220;new&#8221;, mais cette technique ne me semblait pas idéal surtout pour l&#8217;avenir et le maintient à terme de cette solution. J&#8217;ai donc commencé à en discuter avec les personnes présentent sur le chan #rubyonrails.fr. C&#8217;est ainsi que <a href="http://lifeisdead.net">webs</a> m&#8217;a proposé une solution tout à fait élégante en me donnant un code de <a href="http://sunfox.org/">sunny</a>. La vérification directe de l&#8217;existence ou non de la route. Voici le bout de code qui permet cette vérification :</p>

<typo:code lang="ruby">
permalinks = ActionController::Routing::Routes.routes.collect {|r|
   r.generation_structure.match(/&#8221;\/galleries\/([\w]+)/)[1] rescue nil
}.uniq.compact
</typo:code>

<p>On récupère ainsi tous les mots utilisés dans nos routes et commençant par galleries. Sur Pictrails, nous obtenons ainsi &#8220;pages&#8221; et &#8220;new&#8221;. Il suffit ensuite d&#8217;empêcher la création de galerie avec ces noms.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/15/publication-de-pictrails-0-3-0/">Publication De Pictrails 0.3.0</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-15T00:00:00+02:00" pubdate data-updated="true">Jun 15<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/15/publication-de-pictrails-0-3-0/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Presque 3 mois jours pour jours après la dernière release de <a href="http://blog.shingara.fr/articles/2008/03/18/pictrails-0-2-2-released">Pictrails 0.2.3</a>, voici la release de la version 0.3.0</p>

<p style="text-align:center;"><img src="http://blog.shingara.fr/files/public_part_pictrails.png" alt="partie public de pictrails" ></p>

<p>Cette nouvelle version apporte son lot de fonctionnalités. La plus importante étant l&#8217;ajout du support des sous-galerie En effet, désormais, on peux créer des galeries photos dépendant d&#8217;une autre galerie. Cette galerie sera donc visible avec la liste des photos de sa galerie parente. Pour que la navigation soit ainsi plus fluide, j&#8217;ai ajouté un fil d&#8217;ariane ou breadcrumb pour les anglophiles. On sait ainsi désormais dans quel galerie nous nous trouvons et si celle-ci a des parents.</p>


<p style="text-align:center;"><img src="http://blog.shingara.fr/files/breadcrumb_pictrails.png" alt="breadcrumb de pictrails" ></p>

<p>La deuxième fonctionnalité est surtout la refonte compléte du mass_upload. En effet, le mass_upload ne fonctionnait pas trop si on avait énormément de photo a ajouter. Les threads mongrel ou FastCGI s&#8217;arrêtait avec un time out et plus aucune solution de continuer la tâche. Pour ce faire, la première requête liste toutes les images à importer et dans quel galerie. Ensuite à chaque nouvelle requête dans la partie d&#8217;administration une  série de 5 photos est ajoutés. Pour rendre le système plus conviviale, une progress bar a été ajoutée. Celle-ci évolue progressivement si le Javascript est activé sur votre navigateur. Ce système de mass_upload a bien évidement suivit l&#8217;évolution de Pictrails en supportant lui aussi les sous-galeries. Ainsi, il liste de façon récursive les répertoires et créé les galeries avec leurs parents associés.</p>

<p style="text-align:center;"><img src="http://blog.shingara.fr/files/mass_upload_pictrails.png" alt="mass_upload de pictrails" ></p>

<p>J&#8217;espère que cette nouvelle version vous satisfera. Bien-sûr la <a href="http://dev.shingara.fr/projects/roadmap/pictrails">liste des fonctionnalités</a> a ajouter n&#8217;est pas fini pour arriver à la version 1.0. Si vous avez envie de contribuer n&#8217;hésitez pas. Pour plus de détails sur cette version, le <a href="http://pictrails.rubyforge.org">site de pictrails</a> a été mis à jour</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/14/avoir-le-plugin-java-pour-firefox-sur-debian-amd64/">Avoir Le Plugin Java Pour Firefox Sur Debian AMD64</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-14T00:00:00+02:00" pubdate data-updated="true">Jun 14<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/14/avoir-le-plugin-java-pour-firefox-sur-debian-amd64/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depuis quelque temps, j&#8217;utilise en station de travail, une debian SID avec comme architecture AMD64. Mais je n&#8217;arrivais pas à mettre le plugin Java de firefox. En effet, ce plugin existe sous x86, mais pas sous AMD64. C&#8217;est alors qu&#8217;on m&#8217;a indiqué la marche à suivre. Il suffit d&#8217;ajouter un dépôt supplémentaire :</p>

<pre>deb http://www.mirrorservice.org/sites/ftp.blackdown.org/java-linux/debian sid main contrib non-free</pre>

<p>Un fois ce dépôt ajouté, il suffit d&#8217;installer le paquet <code>j2re1.4-mozilla-plugin</code> et redémarrer Firefox. Ça y est le plugin Java pour firefox est utilisable.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/shingara-blog/blog/2008/06/13/ou-compiler-ses-fichiers-c-issue-de-rubyinline/">Où Compiler Ses Fichiers C Issue De RubyInline</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-13T00:00:00+02:00" pubdate data-updated="true">Jun 13<span>th</span>, 2008</time>
        
         | <a href="/shingara-blog/blog/2008/06/13/ou-compiler-ses-fichiers-c-issue-de-rubyinline/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.zenspider.com/ZSS/Products/RubyInline/">RubyInline</a> est un joli petit gem qui permet de générer du code C a partir de code Ruby. Ce code C est ensuite compilé et réutilisé durant les appels futurs de la méthode.</p>

<p>Par défaut, RubyInline compile tout dans votre dossier <code>$HOME/.inline</code>. Mais comment faire si l&#8217;utilisateur n&#8217;a pas de HOME par exemple, où tout simplement qu&#8217;il souhaite mettre la compilation dans le dossier <code>$RAILS_ROOT/tmp/inline</code> qui pourrait être une place tout à fait raisonnable.</p>

<p>N&#8217;ayant pas trouvé l&#8217;information dans la documentation de ce gem, j&#8217;ai donc chercher un peu dans le code. J&#8217;ai ainsi découvert que le dossier de compilation des fichiers C est géré par la variable d&#8217;environnement INLINEDIR. Il suffit donc de définir cette variable dans votre fichier d&#8217;environnement.rb pour choisir où sera compilé les fichiers générés par RubyInline.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/shingara-blog/blog/page/7/">&larr; Older</a>
    
    <a href="/shingara-blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/shingara-blog/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/shingara-blog/blog/2010/05/19/une-journee-dediee-i-mongodb/">Une journée dédiée à MongoDB</a>
      </li>
    
      <li class="post">
        <a href="/shingara-blog/blog/2010/03/27/periodictimer-de-eventmachine-le-cron-simplifie/">PeriodicTimer de EventMachine, le cron simplifié</a>
      </li>
    
      <li class="post">
        <a href="/shingara-blog/blog/2010/03/15/oupsnow-0-5-0-est-sortie/">Oupsnow 0.5.0 est sortie</a>
      </li>
    
      <li class="post">
        <a href="/shingara-blog/blog/2010/01/27/pourquoi-ruby-et-ruby-on-rails-dans-le-developpement-dapplication-web/">Pourquoi Ruby et Ruby On Rails dans le développement d&#8217;application web ?</a>
      </li>
    
      <li class="post">
        <a href="/shingara-blog/blog/2010/01/23/que-cherche-un-developpeur-dans-une-offre-demploi/">Que cherche un développeur dans une offre d&#8217;emploi ?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/shingara">@shingara</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'shingara',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/shingara-blog/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'shinydevblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
