
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Shiny happy people coding</title>
  <meta name="author" content="Cyril Mougel">

  
  <meta name="description" content="Depuis quelque temps, j&#8217;utilise en station de travail, une debian SID avec comme architecture AMD64. Mais je n&#8217;arrivais pas à mettre le &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.shingara.fr//blog/page/7/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Shiny happy people coding" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11352302-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Shiny happy people coding</a></h1>
  
    <h2>Codons avec le sourire</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.shingara.fr/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/avoir-le-plugin-java-pour-firefox-sur-debian-amd64.html">Avoir Le Plugin Java Pour Firefox Sur Debian AMD64</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-14T00:00:00+02:00" pubdate data-updated="true">Jun 14<span>th</span>, 2008</time>
        
         | <a href="/avoir-le-plugin-java-pour-firefox-sur-debian-amd64.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depuis quelque temps, j&#8217;utilise en station de travail, une debian SID avec comme architecture AMD64. Mais je n&#8217;arrivais pas à mettre le plugin Java de firefox. En effet, ce plugin existe sous x86, mais pas sous AMD64. C&#8217;est alors qu&#8217;on m&#8217;a indiqué la marche à suivre. Il suffit d&#8217;ajouter un dépôt supplémentaire :</p>

<pre>deb http://www.mirrorservice.org/sites/ftp.blackdown.org/java-linux/debian sid main contrib non-free</pre>

<p>Un fois ce dépôt ajouté, il suffit d&#8217;installer le paquet <code>j2re1.4-mozilla-plugin</code> et redémarrer Firefox. Ça y est le plugin Java pour firefox est utilisable.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ou-compiler-ses-fichiers-c-issue-de-rubyinline.html">Où Compiler Ses Fichiers C Issue De RubyInline</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-13T00:00:00+02:00" pubdate data-updated="true">Jun 13<span>th</span>, 2008</time>
        
         | <a href="/ou-compiler-ses-fichiers-c-issue-de-rubyinline.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.zenspider.com/ZSS/Products/RubyInline/">RubyInline</a> est un joli petit gem qui permet de générer du code C a partir de code Ruby. Ce code C est ensuite compilé et réutilisé durant les appels futurs de la méthode.</p>

<p>Par défaut, RubyInline compile tout dans votre dossier <code>$HOME/.inline</code>. Mais comment faire si l&#8217;utilisateur n&#8217;a pas de HOME par exemple, où tout simplement qu&#8217;il souhaite mettre la compilation dans le dossier <code>$RAILS_ROOT/tmp/inline</code> qui pourrait être une place tout à fait raisonnable.</p>

<p>N&#8217;ayant pas trouvé l&#8217;information dans la documentation de ce gem, j&#8217;ai donc chercher un peu dans le code. J&#8217;ai ainsi découvert que le dossier de compilation des fichiers C est géré par la variable d&#8217;environnement INLINEDIR. Il suffit donc de définir cette variable dans votre fichier d&#8217;environnement.rb pour choisir où sera compilé les fichiers générés par RubyInline.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-22.html">Vivre Avec Rails Edge #22</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-26T00:00:00+02:00" pubdate data-updated="true">May 26<span>th</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-22.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Traduction de la <a
href="http://blog.codefront.net/2008/05/25/living-on-the-edge-of-rails-22-pre-railsconf-2008-edition/">news #22</a></p>

<p>Aucun changement hallucinant dans Rails cette semaine avant la RailsConf -
Comme Gregg le mentionnait la semaine dernière dans le <a
href="http://railsenvy.com/2008/5/21/rails-envy-podcast-episode-032">Rails
Envy podcast</a>, ce sont les jours pré-2.1 (Rails 2.1 sera
        <em>probablement</em> sorti au RailsConf), ce qui sera une façon
simple de voir pourquoi. Tous les tests de rails passe désormais sur Ruby 1.9
après un long bug sur <code>#module_eval</code> résolu dans le trunk de Ruby
1.9 (voir <a
                href="http://groups.google.com/group/ruby-core-google/browse_thread/thread/6d08e11363bf49b4">ce
                thread</a> pour plus de détails).</p>


<p>Je serais (pour la première fois) au RailsConf 2008 à Portland, Oregon, ce
jeudi prochain - Si quelqu&#8217;un souhaite me voir et me reconnaitre avec ma <a
href="http://www.facebook.com/people/Chu_Yeow/500115784">photo de
Facebook</a>, s&#8217;il vous plait venez me dire salut.</p>

<p>Le rapport de cette semaine couvre les changement du 19 Mai 2008 au 25 Mai
2008 (le jour correspondant à l&#8217;enregistrement du <a
        href="http://railsenvy.com/podcast/">Rails
                Envy podcast</a>).</p>

<h3>Les méthodes first et last fonctionnent désormais avec les associations et
named_scope</h3>

<p>Vous vous souvenez comment le <a
href="http://blog.codefront.net/2008/04/05/living-on-the-edge-of-rails-14-the-extreme-edition-extremely-late/">merge
du gem has_finder à l&#8217;intérieur de rails</a> a
permis de faire des choses comme <code>Post.first</code> et
<code>Post.last</code>?</p>


<p>Maintenant vous pouvez allez dans l&#8217;étape suivant et utiliser les mêmes
méthode dans vos association ActiveRecord. Par exemple:</p>

<typo:code lanf="ruby">post = Post.find(1)
first_comment = post.comments.first</typo:code>

<p>Si vous avez récement utilisé <a
href="http://ryandaigle.com/articles/2008/3/24/what-s-new-in-edge-rails-has-finder-functionality">named_scope</a>,
vous pouvez désormais faire ceci:</p>


<typo:code lang="ruby">post.comments.recent.last</typo:code>

<p>Cette belle petite fonctionnalitée a été gentiement apporté par <a
href="http://railscasts.com/">Ryan Bates</a> (oui, le <em>Ryan Bates</em> du
        fameux
        <a href="http://railscasts.com/">Railscasts</a>).</p>

<p>Révision concernant cette fonctionnalités: <a
href="http://github.com/rails/rails/commit/73c59638549686fccc749ffd3ac53cb533c5fd61">http://github.com/rails/rails/commit/73c59638549686fccc749ffd3ac53cb533c5fd61</a></p>


<h3>Cache stores a désormais une méthode exist? et ajouté dans le controllers un fragment_exist?</h3>

<p>L&#8217;enregistreur de cache dans Rails (Memcache, file stores, etc.) peux désormais avoir une méthode <code>exist?</code> qui vérifie si une valeur de cache existe pour la clé de cache. Cela permet aux controllers Rails de disposer d&#8217;une méthode <code>fragment_exist?</code> qui permet de vérifier l&#8217;existence d&#8217;un fragment de cache:</p>


<typo:code lang="ruby">fragment_exist?(&#8216;example.com/foo/bar&#8217;)</typo:code>

<p>Cette petite amélioration a été gentiement apporté par <a
href="http://josevalim.blogspot.com/">José Valim</a>.</p>

<p>Révision concernant cette fonctionnalités: <a
href="http://github.com/rails/rails/commit/99860b72aebe0348f41e82d4710343498d89a84b#diff-2">http://github.com/rails/rails/commit/99860b72aebe0348f41e82d4710343498d89a84b#diff-2</a></p>

<h3>Créer un enregistrement d&#8217;une association avec un block en argument</h3>

<p>Vous pouvez désormez créer des enregistrement pour les associations comment ceci:</p>

<typo:code lang="ruby">post.coments.create!(:title => &#8216;Techcrunch&#8217;) do |c|
  c.body = &#8220;Rails can&#8217;t scale&#8221;
  end</typo:code>

<p>Ceci est ajouté au changement de <a
  href="http://blog.codefront.net/2008/05/04/living-on-the-edge-of-rails-19-change_table-for-migrations-and-more/">ActiveRecord::Base.create
  indiqué précédement</a>.</p>
  <p>Ce patch a été réalisé par (encore une fois) <a
  href="http://railscasts.com/">Ryan Bates</a>.</p>
  
  <p>Révision concernant cette fonctionnalités: <a
  href="http://github.com/rails/rails/commit/6cba97d2a449faf21aec9fe9d4434067e414226f">http://github.com/rails/rails/commit/6cba97d2a449faf21aec9fe9d4434067e414226f</a></p>
  <p>Comme toujours, vous pouvez laissez toutes suggestions pour améliorer cette série de Vivre avec Rails.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-21.html">Vivre Avec Rails Edge #21</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-21T00:00:00+02:00" pubdate data-updated="true">May 21<span>st</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-21.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Traduction de la <a href="http://blog.codefront.net/2008/05/18/living-on-the-edge-of-rails-21/">news #21</a></p>

<p>C&#8217;est une autre semaine au ralenti (seulement 2 changements à noter selon
        moi) après la <a
href="http://www.rubyinside.com/rails-21-released-891.html">sortie de la première Release candidate (RC1) de Rails
2.1</a>.
Suivez ce lien pour les instructions d&#8217;installation - Mais si vous lisez ce
blog n&#8217;ayez pas peur (parce que vous savez « vivre avec edge »). Vous pouvez
ainsi reporter tous les bugs que vous rencontré lors de la migration vers 2.1
et edge sur le  <a
href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/overview">bug
tracker de rails</a> - il s&#8217;agit d&#8217;une RC  donc tous les rapports de bugs sont
les bienvenue et seront utiles!</p>

<p>Le rapport de cette semaine couvre les changements du 12 Mai 2008 au 18 Mai 2008 (jour correspondant à l&#8217;enregistrement de <a href="http://railsenvy.com/podcast/">Rails Envy podcast</a>).</p>

<h3>caches_action peux être conditionels</h3>

<p><code>caches_action</code> peux désormais prendre une option <code>:if</code> (exactement comme <a href="http://blog.codefront.net/2008/04/20/living-on-the-edge-of-rails-17/">caches_page le fait</a>). Par exemple:</p>

<typo:code lang="ruby">caches_action :index, :if => Proc.new { |c| !c.request.format.json? }</typo:code>

<p>Cette petite amélioration est gentiement apporté par José Valim.</p>

<p>Révision concernant cette fonctionnalitée: <a href="http://github.com/rails/rails/commit/7708650f73ddb4db300ea2059c60c1d907a4384e">http://github.com/rails/rails/commit/7708650f73ddb4db300ea2059c60c1d907a4384e</a></p>

<h3>Bugfix: :select option est désormais parcouru dans les finders d&#8217;ActiveRecord en s&#8217;assurant que les tables nécessaires sont inclus dans le SQL généré</h3>

<typo:code lang="ruby">Post.find(:all, :include => :author, :select => &#8216;posts.*, authors.id as &#8220;author_id&#8221;&#8217;, :limit => 2)</typo:code>

<p>Cela générerais la requête SQL suivante:</p>

<typo:code lang="sql">SELECT posts.*, authors.id as &#8220;author_id&#8221; FROM &#8220;posts&#8221; LIMIT 2</typo:code>

<p>Constaté que la table <code>authors</code> n&#8217;est pas jointe. Cette erreur est désormais résolu.</p>

<p>Merci à John Devine pour ce bugfix.</p>

<p>Révision concernant cette fonctionnalitée: <a href="http://github.com/rails/rails/commit/b28b54cab090bed8f099ef375b419a8f92390dd4">http://github.com/rails/rails/commit/b28b54cab090bed8f099ef375b419a8f92390dd4</a></p>

<p>Comme toujours, vous pouvez laissez toutes suggestions pour améliorer cette série de Vivre avec Rails.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-20.html">Vivre Avec Rails Edge #20</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-13T00:00:00+02:00" pubdate data-updated="true">May 13<span>th</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-20.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Traduction de la <a href="http://blog.codefront.net/2008/05/11/living-on-the-edge-of-rails-20-scriptdbconsole-and-flashnow-now-test-able/">news #20</a></p>

<p>Le rapport de cette semaine couvre les changements du 5 Mai 2008 au 11 Mai 2008 (jour correspondant à l&#8217;enregistrement de <a href="http://railsenvy.com/podcast/">Rails Envy podcast</a>).</p>

<h3>script/dbconsole</h3>

<p>Un script <code>script/dbconsole</code> a été ajouté et permet de se connecter à votre base de donnée en utilisant sa console.</p>

<p>Si vous avez par exemple besoin de vous connecter à votre base de donnée MySQL de production (pour mieux comprendre ce qu&#8217;il s&#8217;y passe!), vous pouvez lancer <code>RAILS_ENV=production script/dbconsole</code> et vous serez loggé à votre base de donnée en utilisant le client en ligne de commande de MySQL. Cela fonctionne aussi avec les bases de donnée PostgreSQL et SQLite.</p>

<p>Pour utiliser ce script dans votre application Rails, n&#8217;oubliez pas de lancer  <code>rake rails:update:scripts</code> après la mise à jour de votre Rails edge.</p>

<p>Cette jolie petite fonctionnalitée est dû à <a href="http://www.sanityinc.com/">Steve Purcell</a>, qui avait à l&#8217;origine un <a href="http://www.sanityinc.com/articles/rails-db-console">plugin de console de base de donnée</a>.</p>

<p>Révision concernant cette fonctionnalitée: <a href="http://github.com/rails/rails/commit/4a07103687084496b773e18a03b1f2f5e686f7ad">http://github.com/rails/rails/commit/4a07103687084496b773e18a03b1f2f5e686f7ad</a></p>

<h3>flash.now est désormais accessible dans les tests</h3>

<p>C&#8217;est quelque chose que <a href="http://www.pluitsolutions.com/2008/01/22/testing-flashnow-in-rails/">beaucoup</a> <a href="http://rhnh.net/2008/04/19/testing-flash-now-with-rspec">de dévelopeurs Rails</a>,<a href="http://blog.codefront.net/2006/09/03/some-functional-testing-gotchas-in-ruby-on-rails/">moi y compris</a> avaient trouvés en écrivant leur test, concernant les messages flash qui n&#8217;étaient pas initialisé avec <code>flash.now</code>. Principalement, vous ne pouviez pas tester le contenu de vos <code>flash.now</code> parce qu&#8217;ils étaient toujours vide avant que vos tests les atteignent.</p>

<typo:code lang="ruby"># Dans votre controller:
flash.now[:notice] = &#8216;You gotta be kidding me!&#8217;

# Dans votre test:
assert_equal &#8216;You gotta be kidding me!&#8217;, flash.now[:notice]
# FAILS parce que flash.now[:notice] est nil</typo:code>


<p><a href="http://zargony.com/">Andreas Neuhaus</a> a cherché comment cela fonctionne et à défini comment faire un test de <code>flash.now</code> qui fonctionne sans utiliser d&#8217;<code>assert_select</code>.</p>

<p>Révision concernant cette fonctionnalitée: <a href="http://github.com/rails/rails/commit/74eed6290e63111d1aad2b181692a84f4f040aea">http://github.com/rails/rails/commit/74eed6290e63111d1aad2b181692a84f4f040aea</a></p>

<p>Il n&#8217;y a pas grand chose à noté pour cette semaine mais si vous souhaitez connaitre tous les détails, vous souhaiterez probablement parcourir le <a href="http://github.com/rails/rails/commits/master">log des commits Rails</a>. Comme toujours, vous pouvez laissez toutes suggestions pour améliorer cette série de Vivre avec Rails.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-19.html">Vivre Avec Rails Edge #19</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-05T00:00:00+02:00" pubdate data-updated="true">May 5<span>th</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-19.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Traduction de la <a href="http://blog.codefront.net/2008/05/04/living-on-the-edge-of-rails-19-change_table-for-migrations-and-more/">news #19</a></p>

<p>Le rapport de cette semaine couvre les changements du 29 Avril 2008 au 4 Mai 2008 (jour correspondant à l&#8217;enregistrement de <a href="http://railsenvy.com/podcast/">Rails Envy podcast</a>).</p>

<h3>change_table pour les migrations d&#8217;ActiveRecord</h3>

<p>Merci à <a href="http://zilkey.com/">Jeff Dean</a>, qui a aussi <a href="http://zilkey.com/2008/4/29/new-rails-core-feature-proposal-super-sexy-migrations">blogué au sujet de la nouvelle fonctionnalité change_table des migrations d&#8217;ActiveRecord</a>. Vous pouvez donc maintenant changer une table avec un block comme ceci :</p>

<typo:code lang="ruby">change_table :videos do |t|
  t.add_timestamps
  t.add_belongs_to :goat
  t.add_string :name, :email, :limit =&gt; 20
  t.remove_column :name, :email # prend de multiples arguments
  t.rename :new_name
  t.string :new_string_column # execute avec le changement de nom de la table
end</typo:code>

<p>Parmis les principaux points à noter :</p>

<ul>
<li><code>add_XXX</code> permettant d&#8217;ajouter une nouvelle colonne, exemple : <code>add_string</code> qui ajoutera un nouveau champs string.</li>
<li>Bien-sûr,<code> add_timestamps</code> permet d&#8217;ajouter les champs datetime magics <code>created_at</code> et <code>updated_at</code></li>
<li><code>remove_column</code> peux dorénavant prendre plusieurs arguments.</li>
<li><code>rename</code> qui renommera la table.</li>
</ul>

<p>Très belle amélioration DRY proposée par <a href="http://zilkey.com/">Jeff Dean</a> une fois encore.</p>

<p>Révision concernant cette fonctionnalité : <a href="http://github.com/rails/rails/commit/96980bd561d79824b6cb6efbcbecdcbf8785d452">http://github.com/rails/rails/commit/96980bd561d79824b6cb6efbcbecdcbf8785d452</a></p>

<h3>ActiveRecord::Base.create prend un block comme ActiveRecord::Base.new</h3>

<p>Youpie, maintenant vous pouvez aussi créer (<code>ActiveRecord::Base.create</code>) un objet ActiveRecord avec un block en argument exactement comme vous pouviez le faire avec <code>ActiveRecord::Base.new</code>:</p>

<typo:code lang="ruby">@person = Person.create(params[:person]) do |p|
  p.name = &#8216;Konata Izumi&#8217;
  p.age = 17
end</typo:code>

<p>Merci a <a href="http://www.workingwithrails.com/person/11022-adam-meehan">Adam Meehan</a> pour ce patch.</p>

<p>Révision concernant cette fonctionnalité : <a href="http://github.com/rails/rails/commit/dd120ede53eaf71dee76894998a81626b7a689fc">http://github.com/rails/rails/commit/dd120ede53eaf71dee76894998a81626b7a689fc</a></p>

<h3>Bugfix: change_column doit permettre d&#8217;utiliser :null => true sur les champs qui ne l&#8217;étaient pas précédement.</h3>


<p>Vous pouvez désormais utiliser <code>change_column</code> dans vos migrations pour modifier une colonne en nullable si elle était précédement </code>NOT NULL</code>.</p>

<p>Ce bugfix est gentiment offert par Nate Wiger.</p>

<p>Révision concernant cette fonctionnalité : <a href="http://github.com/rails/rails/commit/10ef65a3b054270ed3d458ec8eb7c2b9a3e638f7">http://github.com/rails/rails/commit/10ef65a3b054270ed3d458ec8eb7c2b9a3e638f7</a></p>

<p>Comme toujours, vous pouvez laissez toutes suggestions pour améliorer cette série de Vive avec Rails.</p>

<p>Enfin merci à <a href="http://blog.codefront.net/">Chu Yeow</a> de <a href="http://blog.codefront.net/2008/05/01/living-on-the-edge-of-rails-in-french/">m&#8217;encourager dans la traduction de ses magnifiques news</a><p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-18.html">Vivre Avec Rails Edge #18</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-29T00:00:00+02:00" pubdate data-updated="true">Apr 29<span>th</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-18.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Traduction de la <a href="http://blog.codefront.net/2008/04/27/living-on-the-edge-of-rails-18/">news #18</a></p>

<p>Le rapport de cette semaine couvre les changement du 21 Avril 2008 au 27 Avril 2008 (Jour correspondant à l&#8217;enregistrement de <a href="http://railsenvy.com/podcast/">Rails Envy podcast</a>).</p>

<p>Très peu de chose interressant dans le rapport de cette semaine. Il y a eu
principalement un paquet de résolutions de bug et des <a href="http://github.com/rails/rails/commits/master">commits</a> pour la compatibilité avec Ruby 1.8.7.</p>

<h3>Introduction d&#8217;ActiveResource::Base.timeout et récupération de
Timeout::Error dans ActionResource::Connection</h3>

<p>I y a <a href="http://github.com/rails/rails/commit/105910429d5873dce677ef32eef5f705e0625d86">2</a>
<a href="http://github.com/rails/rails/commit/cf32baf915442ffe153ec0e4d8148f147776c30a">changements</a>
qui ont <a href="http://blog.codefront.net/2008/04/22/new-in-rails-activeresource-timeouts-and-why-it-matters/">été
expliqué par Chu Yeow</a> la semaine dernière
et ne seront donc pas détaillé. Lisez donc l&#8217;article <a href="http://blog.codefront.net/2008/04/22/new-in-rails-activeresource-timeouts-and-why-it-matters/">ActiveResource
timeouts and why it matters (en)</a></p>

<h3>Le type entier inteligent pour l&#8217;adaptater MySQL dans les migrations</h3>

<p>L&#8217;adaptater MySQL dans Rails fait correspondre la colonne de type
<code>integer</code> dans vos migrations aux type smalling, int ou biging
dépendant de l&#8217;option :limit.</p>

<p>Cela signifie qu&#8217;une migration comme ceci:</p>

<typo:code lang="ruby">
def self.up
  create_table :searches do |t|
    t.integer :foo, :limit => 2
  end
end
</typo:code>
<p>
Créera la colonne <code>foo</code> comme un type <code>smallint(2)</code>
dans votre base de donnée MySQL (au lieu de <code>int(2)</code> précédement). (Plus d&#8217;information sur <a href="http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html">les types numériques MySQL</a>
<p>

<p>Ce path a été réalisé par DHH.</p>

<p>Révision concernant cette fonctionnalité: <a href="http://github.com/rails/rails/commit/a37546517dad9f6d9a7de6e1dba4d960909d71e8">http://github.com/rails/rails/commit/a37546517dad9f6d9a7de6e1dba4d960909d71e8</a></p>
<p>Comme toujours, vous pouvez laissez tout suggestion pour améliorer cette série de Vive avec Rails.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/screencast-de-presentation-rails.html">Screencast De Presentation Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-25T00:00:00+02:00" pubdate data-updated="true">Apr 25<span>th</span>, 2008</time>
        
         | <a href="/screencast-de-presentation-rails.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Il y a quelques jours, j&#8217;ai réalisé un <a href="http://blog.shingara.fr/articles/2008/04/22/screencast-francais-sur-la-realisation-dune-application-rails">premier screencast en français de démonstration sur la création d&#8217;une application Ruby on Rails</a>. Quelque semaine avant, j&#8217;ai soumis à la liste de RailsFR, une série de slide pour présenter Ruby on Rails auprès de développeur Java. Après quelques modification, j&#8217;ai obtenu une version quasi définitive. J&#8217;ai ainsi réalisé hier un screencast faisant défiler ces slides avec mes commentaires. Tous commentaires est encore une fois le bienvenue.</p>

<p><a href="http://shingara.fr/export/presentation-rails.mpeg">Download du screencast</a></p>
<p><a href="http://shingara.fr/export/presentation-rails.pdf">Download des slides</a></p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/vivre-avec-rails-edge-17.html">Vivre Avec Rails Edge #17</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-24T00:00:00+02:00" pubdate data-updated="true">Apr 24<span>th</span>, 2008</time>
        
         | <a href="/vivre-avec-rails-edge-17.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depuis le début, je suis les news de <a href="http://blog.codefront.net">Chu Yeow</a> concernant les nouveautés intégrés à Rails dans sa version de développement. J&#8217;ai décidé d&#8217;essayer de vous les traduire régulièrement ici.</p>

<p>Traduction de la <a href="http://blog.codefront.net/2008/04/20/living-on-the-edge-of-rails-17/">news #17</a>

<p>Peu de chose se sont passé cette semaine sur Edge Rails. Il semblerait que nous aillons un nouveau membre dans le Rails core, <a href="http://joshpeek.com/">Joshua Peek</a>. Le nouveau <a href="http://rails.lighthouseapp.com/">bug tracking de Rails</a> sur Lighthouse est pret à utiliser, donc vous pouvez y soumettre vos patchs et rapport de bug dessus.</p>

<p>Le rapport de cette semaine couvre les changements entre le 14 Avril 2008 et le 20 Avril 2008 (Jour correspondant à l&#8217;enregistrement de <a href="http://railsenvy.com/podcast/">Rails Envy podcast</a>).</p>
                               
<h3>caches_page conditionel</h3>
                                                     
<p>The <code>caches_pages</code> peuvent prendre une option <code>:if</code> pour indiquer quand une pave peux être vraiment caché via une Proc. Vous pouvez maintenant faire ceci par exemple:</p>
                                                                                                        
<typo:code lang="ruby">caches_page :index, :if => Proc.new { |c| !c.request.format.json? }</typo:code>
                                                                                            
<p>Cela met votre index en cache uniquement si le format de la requête n&#8217;est pas du JSON.</p>
                                                                                                 
<p>Cette fonctionnalité a été ajouté par <a href="http://deaddeadgood.com/">Paul Horsfall</a>.</p>
<p>Révision concernant cette fonctionnalité: <a href="http://github.com/rails/rails/commit/14a40804a29a57ad05ca6bffbe1e5334089593a9">http://github.com/rails/rails/commit/14a40804a29a57ad05ca6bffbe1e5334089593a9</a></p>

                                                                      
<h3>Nouvelle ActionView::TestCase pour tester les helpers des vues</h3>
                                                                  
<p>Rappelez vous comment vous pouvez actuellement utiliser <a href="http://blog.codefront.net/2007/12/27/dry-in-your-functional-and-actionmailer-tests-rails-20-a-feature-a-day-7/">les classes TestCase spécialisé pour tester les classes Controllers et ActionMailer (en)</a>? Désormai
s vous pourrez faire la même chose pour vos helpers de vues Rails avec la nouvelle classe ActionView::TestCase.</p>
                             
<p>Voici un petit exemple:</p>
                                          
<typo:code lang="ruby">module PeopleHelper
  def title(text)
    content_tag(:h1, text)
  end
                  
  def homepage_path
    people_path
  end
end
                                               
class PeopleHelperTest > ActionView::TestCase
def setup                                       
  ActionController::Routing::Routes.draw do |map|                        
    map.people &#8216;people&#8217;, :controller => &#8216;people&#8217;, :action => &#8216;index&#8217;
    map.connect &#8216;:controller/:action/:id&#8217;
  end
end
              
def test_title                         
  assert_equal &#8221;<h1>Ruby on Rails</h1>&#8221;, title(&#8220;Ruby on Rails&#8221;)
end

def test_homepage_path
  assert_equal &#8220;/people&#8221;, homepage_path
end</typo:code>
<p>Remercions Josh Peek pour cette jolie petite amélioration..</p>

<h3>mem_cache_store de ActiveSupport::Cache accepte des options</h3>

<p>Même si Memcache-client a été ajouté récement à ActiveSupport, on ne pouvait pas spécifié toutes les options de configuration derrière l&#8217;ip du serveur memcache. Maintenant vous pouvez passer beaucoup plus d&#8217;options comme ceci:</p>

<typo:code lang="ruby">config.action_controller.fragment_cache_store = :mem_cache_store, &#8216;localhost&#8217;, { :compression => true, :debug => true, :namespace => &#8216;foo&#8217; }</typo:code>

<p>Ce patch est de <a href="http://blog.innerewut.de/">Jonathan Weiss</a>.</p>
<p>Révision concernant cette fonctionnalité: <a href="http://github.com/rails/rails/commit/9e1d506a8cfedef2fdd605e4cbf4bf53651ad214">http://github.com/rails/rails/commit/9e1d506a8cfedef2fdd605e4cbf4bf53651ad214</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/migration-basee-sur-lheure-utc-et-plus-incremental.html">Migration Basée Sur L&#8217;heure Utc Et Plus Incremental</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-23T00:00:00+02:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2008</time>
        
         | <a href="/migration-basee-sur-lheure-utc-et-plus-incremental.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depuis la <a href="http://dev.rubyonrails.org/changeset/9122">revision
r9122</a>, les migrations de Ruby on rails ne sont plus
incrémentale comme précédemment. En effet, elles sont désormais basé sur le
temps UTC. Cette évolution a comme principale intérêt d&#8217;éviter les problèmes
de conflits entre différentes branches de développement grâce à un prefix
unique.</p>

<p>Désormais lors de la création d&#8217;un fichier de migration vous aurez ainsi
ceci :</p>

<typo:code>
$ ./script/generate migration create_user
      create  db/migrate/20080422122512_create_user.rb
</typo:code>

<p>Pour compléter cette évolution, il y a eu l&#8217;ajout de 2 nouvelles tâches
rake. <code>rake db:migrate:up</code> et <code>rake db:migrate:down</code>. Il faut adjoindre à ces tâche la  la variable VERSION étant le numero de la VERSION a ajouter(up) ou
enlever(down). Les versions peuvent ainsi être ajoutées ou supprimées
indépendamments.</p>

<p>On pouvait avoir cette fonctionnalité dans la version 2.0 de rails avec le
plugin <a
href="http://revolutiononrails.blogspot.com/2007/02/plugin-release-enhanced-rails.html">enhanced migrations plugin</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/translate-on-mongoid.html">Localize avec mongoid</a>
      </li>
    
      <li class="post">
        <a href="/mailtrap-l-aide-au-staging.html">Mailtrap l&#8217;aide au staging</a>
      </li>
    
      <li class="post">
        <a href="/une-journee-dediee-i-mongodb.html">Une journée dédiée à MongoDB</a>
      </li>
    
      <li class="post">
        <a href="/periodictimer-de-eventmachine-le-cron-simplifie.html">PeriodicTimer de EventMachine, le cron simplifié</a>
      </li>
    
      <li class="post">
        <a href="/oupsnow-0-5-0-est-sortie.html">Oupsnow 0.5.0 est sortie</a>
      </li>
    
      <li class="post">
        <a href="/pourquoi-ruby-et-ruby-on-rails-dans-le-developpement-dapplication-web.html">Pourquoi Ruby et Ruby On Rails dans le développement d&#8217;application web ?</a>
      </li>
    
      <li class="post">
        <a href="/que-cherche-un-developpeur-dans-une-offre-demploi.html">Que cherche un développeur dans une offre d&#8217;emploi ?</a>
      </li>
    
      <li class="post">
        <a href="/sortie-de-typo-5-4-0.html">Sortie de Typo 5.4.0</a>
      </li>
    
      <li class="post">
        <a href="/sortie-de-oupsnow-0-4-0.html">Sortie de Oupsnow 0.4.0</a>
      </li>
    
      <li class="post">
        <a href="/comment-tester-devise-reelement.html">Comment tester devise ? réélement ?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/shingara">@shingara</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'shingara',
            count: 10,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("shingara", 4, true);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/shingara" class="twitter-follow-button" data-show-count="true">Follow @shingara</a>
  
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Cyril Mougel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'shinydevblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
