---
layout: post
title: ! 'Vivre avec Rails Edge #22'
typo_id: 143
---
<p>Traduction de la <a
href="http://blog.codefront.net/2008/05/25/living-on-the-edge-of-rails-22-pre-railsconf-2008-edition/">news #22</a></p>

<p>Aucun changement hallucinant dans Rails cette semaine avant la RailsConf -
Comme Gregg le mentionnait la semaine dernière dans le <a
href="http://railsenvy.com/2008/5/21/rails-envy-podcast-episode-032">Rails
Envy podcast</a>, ce sont les jours pré-2.1 (Rails 2.1 sera
        <em>probablement</em> sorti au RailsConf), ce qui sera une façon
simple de voir pourquoi. Tous les tests de rails passe désormais sur Ruby 1.9
après un long bug sur <code>#module_eval</code> résolu dans le trunk de Ruby
1.9 (voir <a
                href="http://groups.google.com/group/ruby-core-google/browse_thread/thread/6d08e11363bf49b4">ce
                thread</a> pour plus de détails).</p>


<p>Je serais (pour la première fois) au RailsConf 2008 à Portland, Oregon, ce
jeudi prochain - Si quelqu'un souhaite me voir et me reconnaitre avec ma <a
href="http://www.facebook.com/people/Chu_Yeow/500115784">photo de
Facebook</a>, s'il vous plait venez me dire salut.</p>

<p>Le rapport de cette semaine couvre les changement du 19 Mai 2008 au 25 Mai
2008 (le jour correspondant à l'enregistrement du <a
        href="http://railsenvy.com/podcast/">Rails
                Envy podcast</a>).</p>

<h3>Les méthodes first et last fonctionnent désormais avec les associations et
named_scope</h3>

<p>Vous vous souvenez comment le <a
href="http://blog.codefront.net/2008/04/05/living-on-the-edge-of-rails-14-the-extreme-edition-extremely-late/">merge
du gem has_finder à l'intérieur de rails</a> a
permis de faire des choses comme <code>Post.first</code> et
<code>Post.last</code>?</p>


<p>Maintenant vous pouvez allez dans l'étape suivant et utiliser les mêmes
méthode dans vos association ActiveRecord. Par exemple:</p>

<typo:code lanf="ruby">post = Post.find(1)
first_comment = post.comments.first</typo:code>

<p>Si vous avez récement utilisé <a
href="http://ryandaigle.com/articles/2008/3/24/what-s-new-in-edge-rails-has-finder-functionality">named_scope</a>,
vous pouvez désormais faire ceci:</p>


<typo:code lang="ruby">post.comments.recent.last</typo:code>

<p>Cette belle petite fonctionnalitée a été gentiement apporté par <a
href="http://railscasts.com/">Ryan Bates</a> (oui, le <em>Ryan Bates</em> du
        fameux
        <a href="http://railscasts.com/">Railscasts</a>).</p>

<p>Révision concernant cette fonctionnalités: <a
href="http://github.com/rails/rails/commit/73c59638549686fccc749ffd3ac53cb533c5fd61">http://github.com/rails/rails/commit/73c59638549686fccc749ffd3ac53cb533c5fd61</a></p>


<h3>Cache stores a désormais une méthode exist? et ajouté dans le controllers un fragment_exist?</h3>

<p>L'enregistreur de cache dans Rails (Memcache, file stores, etc.) peux désormais avoir une méthode <code>exist?</code> qui vérifie si une valeur de cache existe pour la clé de cache. Cela permet aux controllers Rails de disposer d'une méthode <code>fragment_exist?</code> qui permet de vérifier l'existence d'un fragment de cache:</p>


<typo:code lang="ruby">fragment_exist?('example.com/foo/bar')</typo:code>

<p>Cette petite amélioration a été gentiement apporté par <a
href="http://josevalim.blogspot.com/">José Valim</a>.</p>

<p>Révision concernant cette fonctionnalités: <a
href="http://github.com/rails/rails/commit/99860b72aebe0348f41e82d4710343498d89a84b#diff-2">http://github.com/rails/rails/commit/99860b72aebe0348f41e82d4710343498d89a84b#diff-2</a></p>

<h3>Créer un enregistrement d'une association avec un block en argument</h3>

<p>Vous pouvez désormez créer des enregistrement pour les associations comment ceci:</p>

<typo:code lang="ruby">post.coments.create!(:title => 'Techcrunch') do |c|
  c.body = "Rails can't scale"
  end</typo:code>

<p>Ceci est ajouté au changement de <a
  href="http://blog.codefront.net/2008/05/04/living-on-the-edge-of-rails-19-change_table-for-migrations-and-more/">ActiveRecord::Base.create
  indiqué précédement</a>.</p>
  <p>Ce patch a été réalisé par (encore une fois) <a
  href="http://railscasts.com/">Ryan Bates</a>.</p>
  
  <p>Révision concernant cette fonctionnalités: <a
  href="http://github.com/rails/rails/commit/6cba97d2a449faf21aec9fe9d4434067e414226f">http://github.com/rails/rails/commit/6cba97d2a449faf21aec9fe9d4434067e414226f</a></p>
  <p>Comme toujours, vous pouvez laissez toutes suggestions pour améliorer cette série de Vivre avec Rails.</p>
